{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\CESDE\\\\app-airbnb\\\\screens\\\\login.js\";\nimport React, { useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { TouchableHighlight, TextInput } from \"react-native-gesture-handler\";\nimport color from \"../styles/colors\";\n\nfunction Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var getUser = function getUser() {\n    var url, response, json;\n    return _regeneratorRuntime.async(function getUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            url = \"http://192.168.0.3:3000/api/validateuser\";\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(fetch(url, {\n              method: 'POST',\n              headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                username: username,\n                password: password\n              })\n            }));\n\n          case 4:\n            response = _context.sent;\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 7:\n            json = _context.sent;\n\n            if (json.user) {\n              navigation.navigate('ListProperties', {\n                userid: json.user._id\n              });\n            } else {\n              Alert.alert(\"Authentication Error\", json.response);\n            }\n\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            Alert.alert(\"An error has ocurred: \" + _context.t0);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.loginScreenContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.loginFormView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.logoText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \"Air BnB\"), React.createElement(TextInput, {\n    placeholder: \"Username\",\n    placeholderColor: \"#c4c3cb\",\n    style: styles.loginTextInput,\n    onChangeText: function onChangeText(text) {\n      return setUsername(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Password\",\n    placeholderColor: \"#c4c3cb\",\n    style: styles.loginTextInput,\n    secureTextEntry: true,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableHighlight, {\n    style: styles.loginButton,\n    onPress: getUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.loginButtonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Sign in\")), React.createElement(TouchableHighlight, {\n    style: styles.registerButton,\n    onPress: function onPress() {\n      return navigation.navigate('CreateUsers');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.registerButtonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Sign up\"))));\n}\n\nvar styles = StyleSheet.create({\n  loginScreenContainer: {\n    flex: 1,\n    backgroundColor: color.Black,\n    alignItems: 'center'\n  },\n  logoText: {\n    fontSize: 40,\n    fontWeight: \"800\",\n    marginTop: 0,\n    marginBottom: 30,\n    textAlign: 'center',\n    backgroundColor: 'yellow'\n  },\n  loginFormView: {\n    width: '80%',\n    height: '50%',\n    backgroundColor: color.Gray\n  },\n  loginTextInput: {\n    height: 43,\n    fontSize: 14,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: '#eaeaea',\n    backgroundColor: '#fafafa',\n    padding: 10,\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 5,\n    marginBottom: 5\n  },\n  loginButton: {\n    backgroundColor: '#3897f1',\n    fontSize: 16,\n    borderRadius: 5,\n    height: 45,\n    margin: 15,\n    padding: 10,\n    width: Dimensions.get('screen').width * 0.93,\n    alignItems: 'center'\n  },\n  loginButtonText: {\n    color: 'white'\n  },\n  registerButton: {\n    fontSize: 20,\n    alignItems: 'center'\n  },\n  registerButtonText: {\n    color: '#01579b'\n  }\n});\nexport default Login;","map":{"version":3,"sources":["C:/CESDE/app-airbnb/screens/login.js"],"names":["React","useState","TouchableHighlight","TextInput","color","Login","navigation","username","setUsername","password","setPassword","getUser","url","fetch","method","headers","Accept","body","JSON","stringify","response","json","user","navigate","userid","_id","Alert","alert","styles","loginScreenContainer","loginFormView","logoText","loginTextInput","text","loginButton","loginButtonText","registerButton","registerButtonText","StyleSheet","create","flex","backgroundColor","Black","alignItems","fontSize","fontWeight","marginTop","marginBottom","textAlign","width","height","Gray","borderRadius","borderWidth","borderColor","padding","marginLeft","marginRight","margin","Dimensions","get"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Text, View, StyleSheet, Dimensions, Alert } from 'react-native';\nimport { TouchableHighlight,  TextInput } from \"react-native-gesture-handler\";\nimport color from '../styles/colors';\n\nfunction Login({ navigation }) {\n  const [username, setUsername] = useState(\"\");    \n  const [password, setPassword] = useState(\"\");\n  const getUser = async () => {\n    \n    try {\n        const url = \"http://192.168.0.3:3000/api/validateuser\"\n        const response = await fetch(url, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: username,\n                password: password\n            }),\n        });\n        const json = await response.json();        \n        if(json.user){\n          navigation.navigate('ListProperties',{\n            userid: json.user._id\n          });\n        }else{\n          Alert.alert(\"Authentication Error\",json.response);\n        }\n    } catch (error) {\n        Alert.alert(\"An error has ocurred: \" + error);            \n    }\n}\n  \n  return (\n    <View style={styles.loginScreenContainer}>\n      <View style={styles.loginFormView}>\n        <Text style={styles.logoText}>Air BnB</Text>\n        <TextInput placeholder=\"Username\" placeholderColor=\"#c4c3cb\" style={styles.loginTextInput} onChangeText={text => setUsername(text)}/>\n        <TextInput placeholder=\"Password\" placeholderColor=\"#c4c3cb\" style={styles.loginTextInput} secureTextEntry={true} onChangeText={text => setPassword(text)} />\n        <TouchableHighlight style={styles.loginButton} onPress={getUser}>\n          <Text style={styles.loginButtonText}>Sign in</Text>\n        </TouchableHighlight>\n        <TouchableHighlight style={styles.registerButton} onPress={()=>navigation.navigate('CreateUsers')}>\n          <Text style={styles.registerButtonText}>Sign up</Text>\n        </TouchableHighlight>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  loginScreenContainer: {\n    flex: 1,\n    backgroundColor: color.Black,\n    alignItems: 'center',\n  },\n  logoText: {\n    fontSize: 40,\n    fontWeight: \"800\",\n    marginTop: 0,\n    marginBottom: 30,\n    textAlign: 'center',\n    backgroundColor: 'yellow',\n  },\n  loginFormView: {\n    width: '80%',\n    height: '50%',\n    backgroundColor: color.Gray,\n  },\n  loginTextInput: {\n    height: 43,\n    fontSize: 14,\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: '#eaeaea',\n    backgroundColor: '#fafafa',\n    padding: 10,\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 5,\n    marginBottom: 5,\n\n  },\n  loginButton: {\n    backgroundColor: '#3897f1',\n    fontSize: 16,\n    borderRadius: 5,\n    height: 45,\n    margin: 15,\n    padding: 10,\n    width: Dimensions.get('screen').width * 0.93,\n    alignItems: 'center'\n  },\n  loginButtonText: {\n    color: 'white'\n  },\n  registerButton: {\n    fontSize: 20,    \n    alignItems: 'center'\n  },\n  registerButtonText: {\n    color: '#01579b'\n  }\n\n});\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}